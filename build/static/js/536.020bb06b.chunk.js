"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[536],{8536:(e,s,t)=>{t.r(s),t.d(s,{default:()=>C});var l=t(5043),a=t(1278),r=t(1908),o=t(7921),d=t(5532),i=t(1357),c=t(8596),n=t(5522),m=t(1012),x=t(5695),p=t(3003),h=t(6058),u=t(184),j=t(7154),g=t(9006),f=t(8726),v=t(5553),b=t(6692);const y=()=>{const{getAllProject:e}=(0,f.A)(),s=(0,p.wA)();return{createProject:async t=>{const{photo:l,projectPhotoURL:a,...r}=t;try{s((0,b.Rr)(!0));const t=["userId","title","skillsUsed","role","startDate","endDate","description","createdBy","size","progressPercentage"].filter((e=>!r[e]));if(t.length>0)return g.Ay.error("Missing: ".concat(t.join(", ")),{position:"bottom-left"});const a=await(0,v.A)(l),o={...r,projectPhotoURL:a||""},{data:d}=await j.A.post("".concat("https://prodash-backend.onrender.com","/api/project/create"),o);d.success?(g.Ay.success("Project Created Successfully",{position:"bottom-left"}),e()):g.Ay.error("Failed to create project. Please try again later.",{position:"bottom-left"})}catch(o){console.error("Error creating project:",o),g.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left"})}finally{s((0,b.Rr)(!1))}}}};var k=t(3216);const N=()=>{const e=(0,k.Zp)(),{getAllProject:s}=(0,f.A)(),t=(0,p.wA)();return{updateProject:async(l,a)=>{try{const{photo:r,projectPhotoURL:o,...d}=l,i=await(r?(0,v.A)(r):Promise.resolve(o));t((0,b.OJ)(!0));const c=localStorage.getItem("jwt_Token");if(!a||!c)throw e("/"),new Error("Please Log in");const n=["userId","title","skillsUsed","startDate","endDate","description","createdBy","role"].filter((e=>!l[e]));if(n.length>0)throw new Error("Missing: ".concat(n.join(", ")));const m={...d,projectPhotoURL:i};await Promise.all([j.A.put("".concat("https://prodash-backend.onrender.com","/api/project/update/").concat(a),{updatedProject:m},{headers:{Authorization:c}})]),s(),g.Ay.success("Project updated successfully,",{position:"bottom-left"})}catch(r){console.error("Error updating project:",r),g.Ay.error(r.message||"Something went wrong",{position:"bottom-left"})}finally{t((0,b.OJ)(!1))}}}};var P=t(579);const C=e=>{let{ProjectState:s,updateClicked:t,setUpdateClicked:j,createClicked:g,setCreateClicked:f}=e;const v=(0,p.d4)((e=>e.themes.palettes[e.themes.currentPalette])),b=JSON.parse(localStorage.getItem("user")),k=(0,l.useRef)(null),{createProject:C}=y(),{updateProject:D}=N(),[S,z]=(0,l.useState)(""),[A,L]=(0,l.useState)({userId:(null===b||void 0===b?void 0:b.userId)||"",title:"",skillsUsed:[""],photo:null,projectPhotoURL:"",startDate:null,endDate:null,description:"",size:"medium",progressPercentage:5,createdBy:"",githubLink:"",liveDemoLink:"",role:""});(0,l.useEffect)((()=>{s&&(L({userId:s.userId||(null===b||void 0===b?void 0:b.userId)||"",title:s.title||"",description:s.description||"",size:s.size||"medium",progressPercentage:s.progressPercentage||5,skillsUsed:s.skillsUsed||"",createdBy:s.createdBy||"",skillsUsed:s.skillsUsed||"",projectPhotoURL:s.projectPhotoURL||"",role:s.role||"",githubLink:s.githubLink||"",liveDemoLink:s.liveDemoLink||"",startDate:s.startDate?new Date(s.startDate).toISOString().slice(0,16):"",endDate:s.endDate?new Date(s.endDate).toISOString().slice(0,16):""}),z(s.projectPhotoURL))}),[s]),(0,l.useEffect)((()=>{t&&(D(A,s._id),j(!1))}),[t,j]),(0,l.useEffect)((()=>{g&&(C(A),f(!1))}),[g,f]);const w=(e,s)=>{L("skillsUsed"===e?t=>({...t,[e]:s.split(",").map((e=>e.trim()))}):t=>({...t,[e]:s}))},U={mt:"2",ml:"-2.5",fontSize:"sm"};return(0,P.jsxs)("div",{className:"flex flex-col justify-start lg:px-2 sm:px-1 gap-2",children:[(0,P.jsx)("div",{className:"flex justify-between items-center ",children:(0,P.jsx)("span",{className:"text-[10px] text-[grey]",children:"( * ) indicates Required"})}),(0,P.jsxs)("div",{className:"flex flex-col items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Title*"}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{fontWeight:"500",color:"black",children:(0,P.jsx)(h.xKl,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:A.title,onChange:e=>w("title",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g.Advanced Dash board"})]})]}),(0,P.jsxs)("div",{className:"flex justify-between gap-2 ",children:[(0,P.jsxs)("div",{className:"flex flex-col gap-2 justify-around  ",children:[(0,P.jsxs)("div",{className:"flex flex-col  items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Created By*"}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{fontWeight:"500",color:"black",children:(0,P.jsx)(h.$JU,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},fontSize:"smaller",value:A.createdBy,onChange:e=>w("createdBy",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g Aman Dubey"})]})]}),(0,P.jsxs)("div",{className:"flex flex-col  items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Role*"}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(h.RIx,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},fontSize:"smaller",value:A.role,onChange:e=>w("role",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g. Front-End Developer"})]})]})]}),(0,P.jsxs)("div",{className:"border-2  border-dashed border-gray-500 rounded-xl w-1/2 h-36 relative",children:[!S&&(0,P.jsx)(d.m,{hasArrow:!0,label:"Upload Image",children:(0,P.jsx)("div",{onClick:()=>{k.current.click()},children:(0,P.jsx)(h.ZzR,{className:"text-6xl  transition-transform duration-300 transform hover:scale-110  ",style:{cursor:"pointer",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},ref:k,type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onloadend=()=>{L((e=>({...e,photo:s}))),z(e.result)},e.readAsDataURL(s)}},style:{display:"none"}}),S&&(0,P.jsxs)("div",{className:"relative",children:[(0,P.jsx)("img",{src:S,alt:"Preview",className:"rounded-xl",style:{maxWidth:"100%",maxHeight:"100%"}}),(0,P.jsx)(d.m,{label:"Clear Image",children:(0,P.jsx)("button",{className:"absolute top-2 right-2 bg-gray-200 rounded-full p-1",onClick:()=>{L((e=>({...e,photo:null,projectPhotoURL:null}))),z(""),k.current.value=""},children:(0,P.jsx)(h.AZ3,{style:{cursor:"pointer"}})})})]})]})]}),(0,P.jsxs)("div",{className:"flex gap-2 justify-between items-center ",children:[(0,P.jsxs)("div",{className:"flex flex-col  items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Starting Date*"}),(0,P.jsxs)(a.M,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(h.sLe,{})}),(0,P.jsx)(o.p,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},value:A.startDate,onChange:e=>w("startDate",e.target.value),fontSize:{base:"x-small",md:"small",lg:"small",sm:"x-small"},textTransform:"uppercase",name:"duedate",focusBorderColor:v.primary,placeholder:"Select Date and Time",type:"datetime-local"})]})]}),(0,P.jsxs)("div",{className:"flex flex-col  items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Ending Date*"}),(0,P.jsxs)(a.M,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(h.sLe,{})}),(0,P.jsx)(o.p,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},value:A.endDate,onChange:e=>w("endDate",e.target.value),fontSize:{base:"x-small",md:"small",lg:"small",sm:"x-small"},textTransform:"uppercase",name:"duedate",focusBorderColor:v.primary,placeholder:"Select Date and Time",type:"datetime-local"})]})]})]}),(0,P.jsxs)("div",{className:"flex flex-col items",children:[(0,P.jsxs)("span",{className:"text-[10px] font-semibold text-red-300 ",children:["Skills Used*(Enter skills separated by commas)"," "]}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(u.FSj,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:A.skillsUsed.join(", "),onChange:e=>w("skillsUsed",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"eg React, Redux, Node, ChakraUi, MongoDB"})]})]}),(0,P.jsxs)(i.z,{name:"Project Size",onChange:e=>L((s=>({...s,size:e}))),value:A.size,children:[(0,P.jsx)("span",{className:"text-xs font-bold",children:"Project Size*"}),(0,P.jsxs)("div",{className:"flex rounded-lg p-3 gap-4 items-center",children:[(0,P.jsx)(c.s,{colorScheme:v.colorScheme,value:"large",children:(0,P.jsx)("div",{className:"text-xs lg:text-md",children:"ENTERPRISE-SCALE"})}),(0,P.jsx)(c.s,{colorScheme:v.colorScheme,value:"medium",children:(0,P.jsx)("div",{className:"text-xs lg:text-md",children:"MEDIUM-SCALE"})}),(0,P.jsx)(c.s,{colorScheme:v.colorScheme,value:"small",children:(0,P.jsx)("div",{className:"text-xs lg:text-md",children:" SMALL-SCALE"})})]})]}),(0,P.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,P.jsx)("span",{className:"text-xs  font-bold",children:"Project Completion*"}),(0,P.jsx)(n.az,{p:4,pt:6,children:(0,P.jsxs)(m.Ap,{"aria-label":"slider-ex-6",colorScheme:v.colorScheme,value:A.progressPercentage,onChange:e=>w("progressPercentage",e),children:[(0,P.jsx)(m.d6,{colo:!0,value:25,...U,children:"25%"}),(0,P.jsx)(m.d6,{value:50,...U,children:"50%"}),(0,P.jsx)(m.d6,{value:75,...U,children:"75%"}),(0,P.jsxs)(m.d6,{value:A.progressPercentage,textAlign:"center",bg:v.primary,color:"white",mt:"-10",ml:"-5",w:"12",children:[A.progressPercentage,"%"]}),(0,P.jsx)(m.hB,{children:(0,P.jsx)(m.hJ,{})}),(0,P.jsx)(m.OQ,{})]})})]}),(0,P.jsxs)("div",{className:"flex flex-col items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"GitHub Link"}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(u.hL4,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:A.githubLink,onChange:e=>w("githubLink",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"GitHub repository link"})]})]}),(0,P.jsxs)("div",{className:"flex flex-col items",children:[(0,P.jsx)("span",{className:"text-[10px] font-bold",children:"Live Demo or Video Link"}),(0,P.jsxs)(a.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,P.jsx)(r.G6,{color:"black",children:(0,P.jsx)(h.YOR,{})}),(0,P.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:A.liveDemoLink,onChange:e=>w("liveDemoLink",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"Live demo or video link"})]})]}),(0,P.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,P.jsxs)("span",{className:"text-xs font-bold",children:["Description"," ",(0,P.jsxs)("span",{className:"font-semibold ".concat(A.description.length>1e3&&"text-red-500"),children:[A.description.length,"/1000"]})]}),(0,P.jsx)(x.T,{value:A.description,onChange:e=>w("description",e.target.value),focusBorderColor:v.secondary,placeholder:"Add some details, about the project, what it offers, speciality of the project, main highlight, etc."})]}),(0,P.jsxs)("div",{className:"flex gap-1 items-center justify-center",children:[(0,P.jsx)(h.DR4,{})," ",(0,P.jsx)("span",{children:"thanks for your time..."})]})]})}},5553:(e,s,t)=>{t.d(s,{A:()=>r});var l=t(7154),a=t(9006);const r=async(e,s)=>{const t=new FormData;if(t.append("file",e),"personal"===s?t.append("upload_preset","ProfileImage"):t.append("upload_preset","Pro-Dash"),e)try{var r;const e=await l.A.post("https://api.cloudinary.com/v1_1/".concat("amandubey22","/image/upload"),t);return null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.secure_url}catch(o){return a.Ay.error("Error In Uploading "),null}}}}]);
//# sourceMappingURL=536.020bb06b.chunk.js.map