"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[155],{8536:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var l=t(5043),r=t(1278),a=t(1908),o=t(7921),c=t(5532),i=t(1357),d=t(8596),n=t(5522),m=t(1012),x=t(5695),h=t(3003),p=t(6058),u=t(184),j=t(7154),g=t(9006),f=t(8726),v=t(5553),b=t(6692);const y=()=>{const{getAllProject:e}=(0,f.A)(),s=(0,h.wA)();return{createProject:async t=>{const{photo:l,projectPhotoURL:r,...a}=t;try{s((0,b.Rr)(!0));const t=["userId","title","skillsUsed","role","startDate","endDate","description","createdBy","size","progressPercentage"].filter((e=>!a[e]));if(t.length>0)return g.Ay.error("Missing: ".concat(t.join(", ")),{position:"bottom-left"});const r=await(0,v.A)(l),o={...a,projectPhotoURL:r||""},{data:c}=await j.A.post("".concat("http://localhost:4000","/api/project/create"),o);c.success?(g.Ay.success("Project Created Successfully",{position:"bottom-left"}),e()):g.Ay.error("Failed to create project. Please try again later.",{position:"bottom-left"})}catch(o){console.error("Error creating project:",o),g.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left"})}finally{s((0,b.Rr)(!1))}}}};var k=t(3216);const N=()=>{const e=(0,k.Zp)(),{getAllProject:s}=(0,f.A)(),t=(0,h.wA)();return{updateProject:async(l,r)=>{try{const{photo:a,projectPhotoURL:o,...c}=l,i=await(a?(0,v.A)(a):Promise.resolve(o));t((0,b.OJ)(!0));const d=localStorage.getItem("jwt_Token");if(!r||!d)throw e("/"),new Error("Please Log in");const n=["userId","title","skillsUsed","startDate","endDate","description","createdBy","role"].filter((e=>!l[e]));if(n.length>0)throw new Error("Missing: ".concat(n.join(", ")));const m={...c,projectPhotoURL:i};await Promise.all([j.A.put("".concat("http://localhost:4000","/api/project/update/").concat(r),{updatedProject:m},{headers:{Authorization:d}})]),s(),g.Ay.success("Project updated successfully,",{position:"bottom-left"})}catch(a){console.error("Error updating project:",a),g.Ay.error(a.message||"Something went wrong",{position:"bottom-left"})}finally{t((0,b.OJ)(!1))}}}};var S=t(579);const P=e=>{let{ProjectState:s,updateClicked:t,setUpdateClicked:j,createClicked:g,setCreateClicked:f}=e;const v=(0,h.d4)((e=>e.themes.palettes[e.themes.currentPalette])),b=JSON.parse(localStorage.getItem("user")),k=(0,l.useRef)(null),{createProject:P}=y(),{updateProject:A}=N(),[C,D]=(0,l.useState)(""),[z,L]=(0,l.useState)({userId:(null===b||void 0===b?void 0:b.userId)||"",title:"",skillsUsed:[""],photo:null,projectPhotoURL:"",startDate:null,endDate:null,description:"",size:"medium",progressPercentage:5,createdBy:"",githubLink:"",liveDemoLink:"",role:""});(0,l.useEffect)((()=>{s&&(L({userId:s.userId||(null===b||void 0===b?void 0:b.userId)||"",title:s.title||"",description:s.description||"",size:s.size||"medium",progressPercentage:s.progressPercentage||5,skillsUsed:s.skillsUsed||"",createdBy:s.createdBy||"",skillsUsed:s.skillsUsed||"",projectPhotoURL:s.projectPhotoURL||"",role:s.role||"",githubLink:s.githubLink||"",liveDemoLink:s.liveDemoLink||"",startDate:s.startDate?new Date(s.startDate).toISOString().slice(0,16):"",endDate:s.endDate?new Date(s.endDate).toISOString().slice(0,16):""}),D(s.projectPhotoURL))}),[s]),(0,l.useEffect)((()=>{t&&(A(z,s._id),j(!1))}),[t,j]),(0,l.useEffect)((()=>{g&&(P(z),f(!1))}),[g,f]);const w=(e,s)=>{L("skillsUsed"===e?t=>({...t,[e]:s.split(",").map((e=>e.trim()))}):t=>({...t,[e]:s}))},U={mt:"2",ml:"-2.5",fontSize:"sm"};return(0,S.jsxs)("div",{className:"flex flex-col justify-start lg:px-2 sm:px-1 gap-2",children:[(0,S.jsx)("div",{className:"flex justify-between items-center ",children:(0,S.jsx)("span",{className:"text-[10px] text-[grey]",children:"( * ) indicates Required"})}),(0,S.jsxs)("div",{className:"flex flex-col items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Title*"}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{fontWeight:"500",color:"black",children:(0,S.jsx)(p.xKl,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:z.title,onChange:e=>w("title",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g.Advanced Dash board"})]})]}),(0,S.jsxs)("div",{className:"flex justify-between gap-2 ",children:[(0,S.jsxs)("div",{className:"flex flex-col gap-2 justify-around  ",children:[(0,S.jsxs)("div",{className:"flex flex-col  items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Created By*"}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{fontWeight:"500",color:"black",children:(0,S.jsx)(p.$JU,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},fontSize:"smaller",value:z.createdBy,onChange:e=>w("createdBy",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g Aman Dubey"})]})]}),(0,S.jsxs)("div",{className:"flex flex-col  items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Role*"}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(p.RIx,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},fontSize:"smaller",value:z.role,onChange:e=>w("role",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"e.g. Front-End Developer"})]})]})]}),(0,S.jsxs)("div",{className:"border-2  border-dashed border-gray-500 rounded-xl w-1/2 h-36 relative",children:[!C&&(0,S.jsx)(c.m,{hasArrow:!0,label:"Upload Image",children:(0,S.jsx)("div",{onClick:()=>{k.current.click()},children:(0,S.jsx)(p.ZzR,{className:"text-6xl  transition-transform duration-300 transform hover:scale-110  ",style:{cursor:"pointer",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},ref:k,type:"file",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onloadend=()=>{L((e=>({...e,photo:s}))),D(e.result)},e.readAsDataURL(s)}},style:{display:"none"}}),C&&(0,S.jsxs)("div",{className:"relative",children:[(0,S.jsx)("img",{src:C,alt:"Preview",className:"rounded-xl",style:{maxWidth:"100%",maxHeight:"100%"}}),(0,S.jsx)(c.m,{label:"Clear Image",children:(0,S.jsx)("button",{className:"absolute top-2 right-2 bg-gray-200 rounded-full p-1",onClick:()=>{L((e=>({...e,photo:null,projectPhotoURL:null}))),D(""),k.current.value=""},children:(0,S.jsx)(p.AZ3,{style:{cursor:"pointer"}})})})]})]})]}),(0,S.jsxs)("div",{className:"flex gap-2 justify-between items-center ",children:[(0,S.jsxs)("div",{className:"flex flex-col  items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Starting Date*"}),(0,S.jsxs)(r.M,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(p.sLe,{})}),(0,S.jsx)(o.p,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},value:z.startDate,onChange:e=>w("startDate",e.target.value),fontSize:{base:"x-small",md:"small",lg:"small",sm:"x-small"},textTransform:"uppercase",name:"duedate",focusBorderColor:v.primary,placeholder:"Select Date and Time",type:"datetime-local"})]})]}),(0,S.jsxs)("div",{className:"flex flex-col  items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Ending Date*"}),(0,S.jsxs)(r.M,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(p.sLe,{})}),(0,S.jsx)(o.p,{size:{base:"xs",md:"md",lg:"md",sm:"xs"},value:z.endDate,onChange:e=>w("endDate",e.target.value),fontSize:{base:"x-small",md:"small",lg:"small",sm:"x-small"},textTransform:"uppercase",name:"duedate",focusBorderColor:v.primary,placeholder:"Select Date and Time",type:"datetime-local"})]})]})]}),(0,S.jsxs)("div",{className:"flex flex-col items",children:[(0,S.jsxs)("span",{className:"text-[10px] font-semibold text-red-300 ",children:["Skills Used*(Enter skills separated by commas)"," "]}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(u.FSj,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:z.skillsUsed.join(", "),onChange:e=>w("skillsUsed",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"eg React, Redux, Node, ChakraUi, MongoDB"})]})]}),(0,S.jsxs)(i.z,{name:"Project Size",onChange:e=>L((s=>({...s,size:e}))),value:z.size,children:[(0,S.jsx)("span",{className:"text-xs font-bold",children:"Project Size*"}),(0,S.jsxs)("div",{className:"flex rounded-lg p-3 gap-4 items-center",children:[(0,S.jsx)(d.s,{colorScheme:v.colorScheme,value:"large",children:(0,S.jsx)("div",{className:"text-xs lg:text-md",children:"ENTERPRISE-SCALE"})}),(0,S.jsx)(d.s,{colorScheme:v.colorScheme,value:"medium",children:(0,S.jsx)("div",{className:"text-xs lg:text-md",children:"MEDIUM-SCALE"})}),(0,S.jsx)(d.s,{colorScheme:v.colorScheme,value:"small",children:(0,S.jsx)("div",{className:"text-xs lg:text-md",children:" SMALL-SCALE"})})]})]}),(0,S.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,S.jsx)("span",{className:"text-xs  font-bold",children:"Project Completion*"}),(0,S.jsx)(n.az,{p:4,pt:6,children:(0,S.jsxs)(m.Ap,{"aria-label":"slider-ex-6",colorScheme:v.colorScheme,value:z.progressPercentage,onChange:e=>w("progressPercentage",e),children:[(0,S.jsx)(m.d6,{colo:!0,value:25,...U,children:"25%"}),(0,S.jsx)(m.d6,{value:50,...U,children:"50%"}),(0,S.jsx)(m.d6,{value:75,...U,children:"75%"}),(0,S.jsxs)(m.d6,{value:z.progressPercentage,textAlign:"center",bg:v.primary,color:"white",mt:"-10",ml:"-5",w:"12",children:[z.progressPercentage,"%"]}),(0,S.jsx)(m.hB,{children:(0,S.jsx)(m.hJ,{})}),(0,S.jsx)(m.OQ,{})]})})]}),(0,S.jsxs)("div",{className:"flex flex-col items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"GitHub Link"}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(u.hL4,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:z.githubLink,onChange:e=>w("githubLink",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"GitHub repository link"})]})]}),(0,S.jsxs)("div",{className:"flex flex-col items",children:[(0,S.jsx)("span",{className:"text-[10px] font-bold",children:"Live Demo or Video Link"}),(0,S.jsxs)(r.M,{size:{base:"md",md:"md",lg:"md",sm:"md"},children:[(0,S.jsx)(a.G6,{color:"black",children:(0,S.jsx)(p.YOR,{})}),(0,S.jsx)(o.p,{size:{base:"md",md:"md",lg:"md",sm:"md"},value:z.liveDemoLink,onChange:e=>w("liveDemoLink",e.target.value),variant:"outline",focusBorderColor:v.secondary,placeholder:"Live demo or video link"})]})]}),(0,S.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,S.jsxs)("span",{className:"text-xs font-bold",children:["Description"," ",(0,S.jsxs)("span",{className:"font-semibold ".concat(z.description.length>1e3&&"text-red-500"),children:[z.description.length,"/1000"]})]}),(0,S.jsx)(x.T,{value:z.description,onChange:e=>w("description",e.target.value),focusBorderColor:v.secondary,placeholder:"Add some details, about the project, what it offers, speciality of the project, main highlight, etc."})]}),(0,S.jsxs)("div",{className:"flex gap-1 items-center justify-center",children:[(0,S.jsx)(p.DR4,{})," ",(0,S.jsx)("span",{children:"thanks for your time..."})]})]})}},8726:(e,s,t)=>{t.d(s,{A:()=>i});var l=t(7154),r=t(9006),a=t(3216),o=t(3003),c=t(6692);const i=()=>{const e=(0,a.Zp)(),s=(0,o.wA)();return{getAllProject:async()=>{try{const t=JSON.parse(localStorage.getItem("jwt_Token")),a=JSON.parse(localStorage.getItem("user"));if(!a||!t)return e("/"),r.Ay.error("Please Log In",{position:"bottom-left"});const o=null===a||void 0===a?void 0:a.userId,{data:i}=await l.A.get("".concat("http://localhost:4000","/api/project/user/").concat(o),{headers:{Authorization:t}});i.success?s((0,c.DK)(null===i||void 0===i?void 0:i.data)):r.Ay.error(i.message,{position:"bottom-left"})}catch(t){console.error("Error fetching projects:",t),r.Ay.error("Server Errddor",{position:"bottom-left"})}}}}}}]);
//# sourceMappingURL=155.425b0323.chunk.js.map