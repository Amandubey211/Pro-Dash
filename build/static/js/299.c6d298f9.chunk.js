"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[299],{6299:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(5043),l=s(2749),r=s(7218),c=s(919),i=s(3003),n=s(5014),o=s(1221),d=s(5532),h=s(8028),m=s(3151),p=s(4007),x=s(4929),u=s(3984),j=s(1300),g=s(3224),w=s(6642),f=s(6720),y=s(6290),v=s(6058),A=s(579);const b=a.lazy((()=>s.e(962).then(s.bind(s,962)))),C=e=>{let{type:t,awardState:s}=e;const{isOpen:l,onOpen:r,onClose:c}=(0,o.j)(),[n,C]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),N=(0,i.d4)((e=>e.themes.currentPalette)),z=(0,i.d4)((e=>e.themes.palettes[e.themes.currentPalette])),[T,I]=(0,a.useState)(N),[O,P]=(0,a.useState)(null),U=(0,i.d4)((e=>e.award.isAwardCreating)),$=(0,i.d4)((e=>e.award.isAwardUpdating));return(0,A.jsxs)("div",{className:"sub-topics gap-2 flex justify-between items-center ",children:["create"===t?(0,A.jsx)(d.m,{label:"Edit",children:(0,A.jsxs)("button",{type:"button",title:"Add Achivement",onClick:()=>{r()},style:{backgroundColor:z.accent},className:"  p-1 rounded-md lg:px-4 px-2 font-semibold uppercase gap-3 flex items-center justify-center cursor-pointer transition duration-300 transform hover:scale-105",children:[(0,A.jsx)("span",{className:"text-white text-sm lg:text-lg ",children:" Add "}),(0,A.jsx)(v.E8b,{})]})}):(0,A.jsx)(d.m,{label:"Update",children:(0,A.jsx)(h.$,{size:"sm",type:"button",title:"update Achivement",onClick:()=>{r()},className:"  rounded-lg font-bold uppercase gap-3 flex items-center justify-center cursor-pointer transition duration-300 transform hover:scale-105",children:y.A.edit})}),(0,A.jsx)(m.aF,{colorScheme:z.colorScheme,scrollBehavior:"inside",size:"xl",isCentered:!0,isOpen:l,onClose:c,children:(0,A.jsxs)(p.$,{borderRadius:"1rem",backgroundColor:"".concat("dark"===T?"#293645":"white"),color:"".concat("dark"===T?"white":"black"),children:[(0,A.jsx)(x.r,{textTransform:"capitalize",children:(0,A.jsxs)("div",{className:"flex justify-between pe-9 items-center",children:["create"===t?"Add Achivement":"Update Achivement",(0,A.jsx)(h.$,{title:"theme mode",size:"xs",onClick:()=>{I("light"===N||"light"===T?"dark":"light")},children:"dark"===T?(0,A.jsx)(f.juv,{}):(0,A.jsx)(f.hGG,{})})]})}),(0,A.jsx)(u.s,{}),(0,A.jsx)(j.c,{children:(0,A.jsx)(a.Suspense,{fallback:(0,A.jsx)("div",{className:"flex justify-center h-full ",children:(0,A.jsx)(g.y,{})}),children:(0,A.jsx)(b,{setCreateClicked:S,createClicked:k,updateClicked:n,AwardState:s,setUpdateClicked:C})})}),(0,A.jsx)(w.j,{children:"create"===t?(0,A.jsx)(h.$,{title:"Create",size:"sm",isLoading:U,loadingText:"Saving",onClick:()=>{S(!0),O&&clearTimeout(O);setTimeout((()=>{c(),P(null)}),100)},colorScheme:z.colorScheme,children:"Create"}):(0,A.jsx)(h.$,{size:"sm",title:"Update",isLoading:$,loadingText:"Updating",onClick:()=>{C(!0),O&&clearTimeout(O);setTimeout((()=>{c(),P(null)}),100)},colorScheme:z.colorScheme,children:"Update"})})]})})]})};var k=s(8851),S=s(2392),N=s(8360),z=s(184),T=s(9006),I=s(7154),O=s(3216),P=s(72);const U=()=>{const e=(0,O.Zp)(),t=(0,i.wA)(),{getAllAward:s}=(0,k.A)();return{deleteAward:async a=>{try{if(t((0,P.CC)(!0)),!a)throw new Error("Please Provide ID");const l=JSON.parse(localStorage.getItem("user")),r=JSON.parse(localStorage.getItem("jwt_Token")),c=null===l||void 0===l?void 0:l.userId;if(!r||!c)return e("/"),T.Ay.error("Please Log In",{position:"bottom-left"});const{data:i}=await I.A.delete("".concat("http://localhost:4000","/api/awards/").concat(c,"/delete/").concat(a),{headers:{Authorization:r}});i.success&&(T.Ay.success(i.message,{position:"bottom-left"}),s())}catch(l){T.Ay.error("Something went wrong",{position:"bottom-left"})}finally{t((0,P.CC)(!1))}}}},$=e=>{let{data:t}=e;const[s,l]=(0,a.useState)(!1),r=(0,i.d4)((e=>e.themes.palettes[e.themes.currentPalette])),c=(0,i.d4)((e=>e.award.isAwardDeleting)),n=(0,S.Y)(t.dateReceived),{deleteAward:o}=U();return(0,A.jsxs)("div",{className:"h-64  p-2 lg:w-96  w-full  shadow-2xl rounded-xl",style:{backgroundColor:r.primary},children:[(0,A.jsxs)("div",{className:"flex px-2 py-1 justify-between items-center",children:[(0,A.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,A.jsx)("span",{className:"font-semibold text-md lg:text-lg uppercase",children:t.role}),(0,A.jsx)(v.xKl,{})]}),(0,A.jsxs)("div",{className:"flex gap-1    justify-start items-center",children:[(0,A.jsx)(d.m,{label:"Delete",children:(0,A.jsx)(h.$,{title:"delete",size:"sm",isLoading:c,onClick:()=>{o(t._id)},color:"red",children:(0,A.jsx)(f.Rrl,{className:""})})}),(0,A.jsx)(d.m,{label:s?"Copied!":"Copy",children:(0,A.jsx)(h.$,{title:"copy",size:"sm",onClick:()=>{l(!0);const e="Company: ".concat(t.companyOrInstitute,",Role:").concat(t.role," Receveing date  : ").concat(n,", Description: ").concat(t.description," ");navigator.clipboard.writeText(e).then((()=>{T.Ay.success("Task Copied",{position:"bottom-left"});const e=setTimeout((()=>l(!1)),2e3);return()=>clearTimeout(e)})).catch((e=>{console.error("Failed to copy text:",e)}))},children:s?(0,A.jsx)(z.paH,{}):(0,A.jsx)(z.zU_,{})})}),(0,A.jsx)(C,{type:"update",awardState:t})]})]}),(0,A.jsx)("hr",{}),(0,A.jsxs)("div",{className:"flex p-2 gap-2 flex-col",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center  ",children:[(0,A.jsx)("span",{className:"capitalize text-md",children:t.companyOrInstitute.substring(0,20)}),(0,A.jsx)(N.E,{fontSize:"x-small",children:n})]}),(0,A.jsx)("div",{className:"p-2 rounded-md shadow-inner overflow-hidden h-32",style:{backgroundColor:r.accent,overflowY:"auto"},children:(0,A.jsx)("p",{className:"text-sm",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflow:"hidden"},children:t.description})})]})]})},D=()=>{const{getAllAward:e}=(0,k.A)(),t=(0,i.d4)((e=>e.award.myAwards));(0,a.useEffect)((()=>{e()}),[]);const s=(0,i.d4)((e=>e.themes.palettes[e.themes.currentPalette]));return(0,A.jsx)(l.A,{title:"Achivement  Page",keywords:"Achivements, role, certificates,grade, info,data,seo,",children:(0,A.jsxs)("div",{style:{backgroundColor:s.secondary},className:"grid grid-cols-12 text-white min-h-svh",children:[(0,A.jsx)(r.A,{}),(0,A.jsxs)("div",{className:"col-span-11 lg:p-3 w-screen md:w-full  lg:w-full  ",children:[(0,A.jsx)(c.A,{}),(0,A.jsxs)("div",{className:"lg:p-3 p-1   w-full",children:[(0,A.jsxs)("div",{className:"flex justify-between shadow-2xl rounded-2xl items-center lg:px-12 px-1",children:[(0,A.jsx)(C,{type:"create"}),(0,A.jsx)(n.A,{size:"4"})]}),(0,A.jsx)("div",{className:"flex w-full  flex-wrap gap-3 justify-center items-center  p-4 ",children:t.map(((e,t)=>(0,A.jsx)($,{data:e},t)))})]})]})]})})}},8851:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(7154),l=s(9006),r=s(3216),c=s(72),i=s(3003);const n=()=>{const e=(0,r.Zp)(),t=(0,i.wA)();return{getAllAward:async()=>{try{const s=JSON.parse(localStorage.getItem("user")),r=JSON.parse(localStorage.getItem("jwt_Token")),i=null===s||void 0===s?void 0:s.userId;if(!i||!r)return l.Ay.error("Please Log In",{position:"bottom-left"}),e("/");const{data:n}=await a.A.get("".concat("http://localhost:4000","/api/awards/").concat(i),{headers:{Authorization:r}});n.success&&t((0,c.ZH)(n.awards))}catch(s){console.error("error in fetching the award :",s),l.Ay.error("Something went wrong",{position:"bottom-left"})}}}}},2392:(e,t,s)=>{s.d(t,{Y:()=>a});const a=e=>{const t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"2-digit"}),[s,a,l]=t.split(" ");return"".concat(a).concat(s,"-").concat(l)}}}]);
//# sourceMappingURL=299.c6d298f9.chunk.js.map