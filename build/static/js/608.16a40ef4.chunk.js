"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[608],{5608:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var r=t(5043),a=t(2749),o=t(3003),l=t(579);const n=e=>{let{loginPage:s,HandlePage:t}=e;const r=(0,o.d4)((e=>e.themes.palettes[e.themes.currentPalette]));return(0,l.jsxs)("div",{style:{backgroundColor:r.primary},className:"".concat(s?"  lg:rounded-l-[6rem] lg:rounded-r-3xl  flex flex-col gap-5 justify-center items-center p-5 ":" lg:rounded-r-[6rem] lg:rounded-l-3xl    flex flex-col gap-5 justify-center items-center p-5 "),children:[(0,l.jsx)("b",{className:"text-white lg:text-3xl font-bold",children:s?"Hello, Friend!":"Welcome Back!"}),(0,l.jsx)("div",{className:"flex justify-center text-center ",children:(0,l.jsx)("p",{className:"text-white text-xs",children:s?"Register with your personal details to use all of site features":"Enter your personal details to use all of site features "})}),(0,l.jsx)("button",{onClick:()=>t(),className:"border-white text-white p-1 px-7 rounded-md border hover:bg-white hover:text-black uppercase font-semibold",children:s?"Sign Up":"Sign In"})]})};var i=t(6113),c=t(7921),d=t(8028),m=t(1278),x=t(3974),p=t(5532),h=t(7196);const u=function(e){let{onPasswordChange:s,passwordValue:t}=e;const[a,n]=(0,r.useState)(!1),i=(0,o.d4)((e=>e.themes.palettes[e.themes.currentPalette]));return(0,l.jsxs)(m.M,{size:"md",children:[(0,l.jsx)(c.p,{name:"Password",focusBorderColor:i.primary,value:t,onChange:e=>{const t=e.target.value;s(t)},variant:"filled",autoComplete:"off",pr:"4.5rem",type:a?"text":"password",placeholder:"password"}),(0,l.jsx)(x.t,{width:"4.5rem",children:(0,l.jsx)(p.m,{fontSize:"sm",label:a?"hide":"show",children:(0,l.jsx)(d.$,{h:"1.75rem",size:"sm",name:"toggleview",onClick:()=>n(!a),children:a?(0,l.jsx)(h.yAb,{}):(0,l.jsx)(h.qRD,{})})})})]})};var g=t(5475),f=t(927),j=t(1221),y=t(3151),b=t(4007),w=t(4929),v=t(3984),N=t(1300),A=t(6642),k=t(6058);const C=["At least one lowercase letter.","At least one uppercase letter.","At least one digit.","At least one special character.","Minimum length of 8 characters"];const S=function(e){let{loginPage:s}=e;const t=(0,o.d4)((e=>e.themes.palettes[e.themes.currentPalette])),a=()=>(0,l.jsx)(f.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),{isOpen:n,onOpen:i,onClose:c}=(0,j.j)(),[m,x]=r.useState((0,l.jsx)(a,{}));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.m,{fontSize:"sm",label:"Guidlines",children:(0,l.jsx)(d.$,{name:"guidelines",size:"xs",onClick:()=>{x((0,l.jsx)(a,{})),i()},children:(0,l.jsx)(k.Wpt,{className:"hover:cursor-pointer text-lg"})})}),(0,l.jsxs)(y.aF,{isCentered:!0,isOpen:n,scrollBehavior:"inside",onClose:c,size:"xl",children:[m,(0,l.jsxs)(b.$,{children:[(0,l.jsx)(w.r,{children:"Follow GuideLines"}),(0,l.jsx)(v.s,{}),(0,l.jsx)(N.c,{children:(0,l.jsxs)(l.Fragment,{children:[!s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[" ",(0,l.jsx)(k.Wpt,{}),(0,l.jsx)("b",{className:"text-[15px]",children:"User Name "})]}),(0,l.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,l.jsxs)("span",{className:"text-[10px] ps-2",children:["Username should be between ",(0,l.jsx)("b",{children:" 3 "})," - ",(0,l.jsx)("b",{children:"20"})," ","character, contain only ",(0,l.jsx)("b",{children:"alphanumeric characters "})," ","and",(0,l.jsx)("b",{children:" underscores"})]})})]}),(0,l.jsxs)("div",{className:"flex  gap-1 items-center ",children:[" ",(0,l.jsx)(k.Wpt,{}),(0,l.jsx)("b",{className:"text-[15px]",children:"Email "})]}),(0,l.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,l.jsxs)("span",{className:"text-[10px] ps-2",children:["The email address must follow the basic format of",(0,l.jsx)("b",{children:" username@domain.com "})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[" ",(0,l.jsx)(k.Wpt,{}),(0,l.jsx)("b",{className:"text-[13px]",children:"Password "})]}),(0,l.jsx)("div",{className:"flex flex-col gap-1 ",children:C.map(((e,s)=>(0,l.jsx)("span",{className:"text-[10px] ps-2",children:e},s)))})]})}),(0,l.jsx)(A.j,{children:(0,l.jsx)(d.$,{colorScheme:t.colorScheme,onClick:c,children:"Close"})})]})]})]})};var P=t(1219),U=t(9006),L=t(7154),E=t(7682);const I=()=>{const e=(0,o.wA)();return{signUp:(0,r.useCallback)((async(s,t,r)=>{if(s&&t&&r)if((0,E.DT)(t))if((0,E.Oj)(r))if((0,E.TU)(s))try{e((0,i.RE)(!0));const{data:a}=await L.A.post("".concat("https://prodash-backend.onrender.com","/api/auth/signup"),{userName:s,email:t,password:r});a.success?(U.Ay.success(a.message,{position:"bottom-left"}),e((0,i.t7)(!0))):U.Ay.error(a.message,{position:"bottom-left"})}catch(a){a.response?U.Ay.error(a.response.data.message,{position:"bottom-left"}):U.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left "})}finally{e((0,i.RE)(!1))}else U.Ay.error("Username is invalid",{position:"bottom-left"});else U.Ay.error("Password is invalid",{position:"bottom-left"});else U.Ay.error("Email is invalid",{position:"bottom-left"});else U.Ay.error("Please fill all the required details",{position:"bottom-left "})}),[e])}};var O=t(3216),T=t(7470);const F=()=>{const e=(0,O.Zp)(),s=(0,o.wA)();return{signIn:(0,r.useCallback)((async(t,r)=>{if(t&&r)if((0,E.DT)(t))if((0,E.Oj)(r))try{s((0,i.NB)(!0));const{data:a}=await L.A.post("".concat("https://prodash-backend.onrender.com","/api/auth/signin"),{email:t,password:r});a.success?(U.Ay.success(a.message,{position:"bottom-left"}),s((0,T.m5)(a.user)),localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("jwt_Token",JSON.stringify(a.accessToken)),localStorage.setItem("refresh_Token",JSON.stringify(a.refreshToken)),e("/dash"),s((0,i.Ul)(!0))):U.Ay.error(a.message,{position:"bottom-left"})}catch(a){a.response?U.Ay.error(a.response.data.message,{position:"bottom-left"}):U.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left "})}finally{s((0,i.NB)(!1))}else U.Ay.error("Password is invalid",{position:"bottom-left"});else U.Ay.error("Email is invalid",{position:"bottom-left"});else U.Ay.error("Please fill all the required details",{position:"bottom-left"})}),[s,e])}},$=e=>{let{email:s,setEmail:t,password:r,setPassword:a,userName:n,setUserName:i,handleClearForm:m}=e;const{signUp:x}=I(),{signIn:p}=F(),h=(0,o.d4)((e=>e.auth.signUpLoading)),f=(0,o.d4)((e=>e.auth.signInLoading)),j=(0,o.d4)((e=>e.auth.isLoginPage)),y=(0,o.d4)((e=>e.themes.palettes[e.themes.currentPalette])),b=async e=>{e.preventDefault();try{j?p(s,r):x(n,s,r)}catch(t){U.Ay.error("something went wrong",{position:"bottom-left"})}finally{m()}};return(0,l.jsxs)("div",{className:"".concat(j?"flex py-5 px-3 flex-col  gap-2 items-center justify-center ":"flex py-5 px-3 flex-col  gap-2 items-center justify-center order-2 "),children:[(0,l.jsx)("h1",{className:"lg:text-3xl sm:text-xl font-bold",children:j?"Sign in":"Create Account"}),(0,l.jsx)("div",{className:"Login Options  p-1 flex gap-1 justify-center",children:null===P.y||void 0===P.y?void 0:P.y.map((e=>(0,l.jsx)("span",{onClick:()=>U.Ay.success("this feature will be added soon",{position:"bottom-left"}),className:"p-2 hover:cursor-pointer  border-black border-[1px] rounded-md shadow-lg ",children:e.Logo},e.Name)))}),(0,l.jsxs)("div",{className:"flex gap-1 justify-center items-center",children:[(0,l.jsx)("p",{className:"text-xs capitalize",children:j?"sign in with your email and password":"Create your email and password"}),(0,l.jsx)(S,{loginPage:j})]}),(0,l.jsxs)("form",{onSubmit:b,className:"flex flex-col my-3 gap-2",children:[!j&&(0,l.jsx)(c.p,{name:"UserName",focusBorderColor:y.primary,variant:"filled",value:n,autoComplete:"off",onChange:e=>i(e.target.value),placeholder:"User Name"}),(0,l.jsx)(c.p,{name:"Email",variant:"filled",focusBorderColor:y.primary,errorBorderColor:"crimson",value:s,autoComplete:"off",onChange:e=>t(e.target.value),placeholder:"Email"}),(0,l.jsx)(u,{onPasswordChange:e=>{a(e)},passwordValue:r}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(d.$,{type:"submit",className:"uppercase",onClick:b,isLoading:h||f,loadingText:j?"verifying":"Siginning Up",colorScheme:y.colorScheme,children:j?"Sign In":" Sign Up"})}),(0,l.jsx)(g.k2,{onClick:()=>U.Ay.success("will be adding soon",{position:"bottom-left"}),className:"text-center mt-3 hover:underline hover:text-blue-500 text-xs",children:"Forget your Password?"})]})]})},z=()=>{const e=(0,O.Zp)(),s=(0,o.wA)(),[t,a]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("jwt_Token"));t&&(async t=>{try{if(!t)throw new Error("No token found");const r=JSON.parse(localStorage.getItem("user")),a=null===r||void 0===r?void 0:r.userId,{data:o}=await L.A.post("".concat("https://prodash-backend.onrender.com","/api/auth/verify/").concat(a),{token:t});if(null===o||void 0===o||!o.success)throw new Error("Invalid token");s((0,i.Ul)(!0)),e("/dash")}catch(r){return null}finally{a(!1)}})(t)}),[e,s])},B=()=>{const[e,s]=(0,r.useState)(""),[t,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),x=(0,o.d4)((e=>e.auth.isLoginPage)),p=(0,o.wA)();z();const h=()=>{s(""),c(""),m("")};return(0,l.jsx)(a.A,{title:x?"Login Page":"Register Page",children:(0,l.jsx)("div",{className:"sm:h-full lg:h-screen flex justify-center items-center  ",children:(0,l.jsxs)("div",{className:"lg:w-[65%] sm:w-[95%] lg:h-[87%]   border shadow-2xl grid lg:grid-cols-2  sm:grid-cols-1  gap-2 rounded-3xl ",children:[(0,l.jsx)($,{email:e,setEmail:s,password:t,setPassword:c,userName:d,setUserName:m,handleClearForm:h}),(0,l.jsx)(n,{loginPage:x,HandlePage:()=>{h(),p((0,i.t7)(!x))}})]})})})}},1219:(e,s,t)=>{t.d(s,{y:()=>o});var r=t(184),a=t(579);const o=[{Name:"Google",Logo:(0,a.jsx)(r.k72,{})},{Name:"FaceBook",Logo:(0,a.jsx)(r.ok6,{})},{Name:"GitHub",Logo:(0,a.jsx)(r.hL4,{})},{Name:"Linkedin",Logo:(0,a.jsx)(r.H1h,{})}]},2749:(e,s,t)=>{t.d(s,{A:()=>l});t(5043);var r=t(1591),a=t(9006),o=t(579);const l=e=>{let{children:s,title:t,description:l,keywords:n,author:i}=e;return(0,o.jsxs)("div",{children:[(0,o.jsxs)(r.m,{children:[(0,o.jsx)("meta",{charSet:"utf-8"}),(0,o.jsx)("meta",{name:"description",content:l}),(0,o.jsx)("meta",{name:"keywords",content:n}),(0,o.jsx)("meta",{name:"author",content:i}),(0,o.jsx)("title",{children:t})]}),(0,o.jsxs)("main",{style:{minHeight:"70vh"},children:[(0,o.jsx)(a.l$,{}),s]})]})}},7682:(e,s,t)=>{t.d(s,{DT:()=>r,Oj:()=>a,TU:()=>l,Up:()=>o});const r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),a=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()\-_=+{};:,<.>]).{8,}$/.test(e),o=e=>/^\d{10}$/.test(e),l=e=>/^[a-zA-Z0-9_]{3,20}$/.test(e)}}]);
//# sourceMappingURL=608.16a40ef4.chunk.js.map