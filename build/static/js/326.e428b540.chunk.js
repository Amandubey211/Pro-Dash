"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[326],{8326:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var r=t(5043),a=t(2749),l=t(3003),o=t(7154);const n=()=>{const[e,s]=(0,r.useState)(!1),[t,a]=(0,r.useState)(!0),[l,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=async()=>{try{if(!l){const e=await o.A.get("".concat("http://localhost:4000"));s(e.data.success),n(!0)}}catch(e){console.error("Error checking server status:",e),navigator.onLine||s(!1)}finally{a(!1)}};e();const t=setInterval((()=>{navigator.onLine&&e()}),5e3);return()=>clearInterval(t)}),[l]),{serverRunning:e,loading:t}};var i=t(6058),c=t(2661),d=t(579);const m=e=>{let{loginPage:s,HandlePage:t}=e;const r=(0,l.d4)((e=>e.themes.palettes[e.themes.currentPalette])),{serverRunning:a}=n();return(0,d.jsxs)("div",{style:{backgroundColor:r.primary},className:"".concat(s?"  lg:rounded-l-[6rem] lg:rounded-r-3xl rounded-b-2xl   flex flex-col gap-5 justify-center items-center p-5 ":" lg:rounded-r-[6rem] lg:rounded-l-3xl rounded-b-2xl    flex flex-col gap-5 justify-center items-center p-5 "," relative pb-9 lg:pb-2"),children:[(0,d.jsx)("b",{className:"text-white lg:text-3xl font-bold",children:s?"Hello, Friend!":"Welcome Back!"}),(0,d.jsx)("div",{className:"flex justify-center text-center ",children:(0,d.jsx)("p",{className:"text-white text-xs",children:s?"Register with your personal details to use all of site features":"Enter your personal details to use all of site features "})}),(0,d.jsx)("button",{title:s?"Sign Up":"Sign In",onClick:()=>t(),className:"border-white text-white p-1 px-7 rounded-md border hover:bg-white hover:text-black uppercase font-semibold",children:s?"Sign Up":"Sign In"}),(0,d.jsx)("div",{className:"absolute bottom-0   mx-4 mb-4 ".concat(s?"right-0":" right-0 lg:left-0"),children:a?(0,d.jsxs)("div",{className:"flex items-center gap-1  ",children:[(0,d.jsx)("span",{className:"text-white ",children:"Server "}),(0,d.jsx)(i.xKl,{className:"text-md lg:text-xl mt-1"})]}):(0,d.jsxs)("div",{className:"flex items-center  gap-1  ",children:[(0,d.jsx)("span",{className:"text-white text-xs  ",children:"Server staring"}),(0,d.jsx)(c.kiM,{className:"animate-spin text-white"})]})})]})};var x=t(6113),h=t(7921),p=t(8028),u=t(1278),g=t(3974),f=t(5532),j=t(7196);const y=function(e){let{onPasswordChange:s,passwordValue:t}=e;const[a,o]=(0,r.useState)(!1),n=(0,l.d4)((e=>e.themes.palettes[e.themes.currentPalette]));return(0,d.jsxs)(u.M,{size:"md",children:[(0,d.jsx)(h.p,{name:"Password",title:"password",focusBorderColor:n.primary,value:t,onChange:e=>{const t=e.target.value;s(t)},variant:"filled",autoComplete:"off",pr:"4.5rem",type:a?"text":"password",placeholder:"password"}),(0,d.jsx)(g.t,{width:"4.5rem",children:(0,d.jsx)(f.m,{fontSize:"sm",label:a?"hide":"show",children:(0,d.jsx)(p.$,{title:"toogleview",h:"1.75rem",size:"sm",name:"toggleview",onClick:()=>o(!a),children:a?(0,d.jsx)(j.yAb,{}):(0,d.jsx)(j.qRD,{})})})})]})};var b=t(5475),v=t(927),w=t(1221),N=t(3151),A=t(4007),S=t(4929),k=t(3984),C=t(1300),P=t(6642);const U=["At least one lowercase letter.","At least one uppercase letter.","At least one digit.","At least one special character.","Minimum length of 8 characters"];const L=function(e){let{loginPage:s}=e;const t=(0,l.d4)((e=>e.themes.palettes[e.themes.currentPalette])),a=()=>(0,d.jsx)(v.m,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"}),{isOpen:o,onOpen:n,onClose:c}=(0,w.j)(),[m,x]=r.useState((0,d.jsx)(a,{}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.m,{fontSize:"sm",label:"Guidlines",children:(0,d.jsx)(p.$,{title:"guidelines",name:"guidelines",size:"xs",onClick:()=>{x((0,d.jsx)(a,{})),n()},children:(0,d.jsx)(i.Wpt,{className:"hover:cursor-pointer text-lg"})})}),(0,d.jsxs)(N.aF,{isCentered:!0,isOpen:o,scrollBehavior:"inside",onClose:c,size:"xl",children:[m,(0,d.jsxs)(A.$,{children:[(0,d.jsx)(S.r,{children:"Follow GuideLines"}),(0,d.jsx)(k.s,{}),(0,d.jsx)(C.c,{children:(0,d.jsxs)(d.Fragment,{children:[!s&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[" ",(0,d.jsx)(i.Wpt,{}),(0,d.jsx)("b",{className:"text-[15px]",children:"User Name "})]}),(0,d.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,d.jsxs)("span",{className:"text-[10px] ps-2",children:["Username should be between ",(0,d.jsx)("b",{children:" 3 "})," - ",(0,d.jsx)("b",{children:"20"})," ","character, contain only ",(0,d.jsx)("b",{children:"alphanumeric characters "})," ","and",(0,d.jsx)("b",{children:" underscores"})]})})]}),(0,d.jsxs)("div",{className:"flex  gap-1 items-center ",children:[" ",(0,d.jsx)(i.Wpt,{}),(0,d.jsx)("b",{className:"text-[15px]",children:"Email "})]}),(0,d.jsx)("div",{className:"flex flex-col gap-1 ",children:(0,d.jsxs)("span",{className:"text-[10px] ps-2",children:["The email address must follow the basic format of",(0,d.jsx)("b",{children:" username@domain.com "})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[" ",(0,d.jsx)(i.Wpt,{}),(0,d.jsx)("b",{className:"text-[13px]",children:"Password "})]}),(0,d.jsx)("div",{className:"flex flex-col gap-1 ",children:U.map(((e,s)=>(0,d.jsx)("span",{className:"text-[10px] ps-2",children:e},s)))})]})}),(0,d.jsx)(P.j,{children:(0,d.jsx)(p.$,{title:"close",colorScheme:t.colorScheme,onClick:c,children:"Close"})})]})]})]})};var E=t(1219),I=t(9006),O=t(7682);const T=()=>{const e=(0,l.wA)();return{signUp:(0,r.useCallback)((async(s,t,r)=>{if(s&&t&&r)if((0,O.DT)(t))if((0,O.Oj)(r))if((0,O.TU)(s))try{e((0,x.RE)(!0));const{data:a}=await o.A.post("".concat("http://localhost:4000","/api/auth/signup"),{userName:s,email:t,password:r});a.success?(I.Ay.success(a.message,{position:"bottom-left"}),e((0,x.t7)(!0))):I.Ay.error(a.message,{position:"bottom-left"})}catch(a){a.response?I.Ay.error(a.response.data.message,{position:"bottom-left"}):I.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left "})}finally{e((0,x.RE)(!1))}else I.Ay.error("Username is invalid",{position:"bottom-left"});else I.Ay.error("Password is invalid",{position:"bottom-left"});else I.Ay.error("Email is invalid",{position:"bottom-left"});else I.Ay.error("Please fill all the required details",{position:"bottom-left "})}),[e])}};var F=t(3216),$=t(7470);const z=()=>{const e=(0,F.Zp)(),s=(0,l.wA)();return{signIn:(0,r.useCallback)((async(t,r)=>{if(t&&r)if((0,O.DT)(t))if((0,O.Oj)(r))try{s((0,x.NB)(!0));const{data:a}=await o.A.post("".concat("http://localhost:4000","/api/auth/signin"),{email:t,password:r});a.success?(I.Ay.success(a.message,{position:"bottom-left"}),s((0,$.m5)(a.user)),localStorage.setItem("user",JSON.stringify(a.user)),localStorage.setItem("jwt_Token",JSON.stringify(a.accessToken)),localStorage.setItem("refresh_Token",JSON.stringify(a.refreshToken)),e("/dash"),s((0,x.Ul)(!0))):I.Ay.error(a.message,{position:"bottom-left"})}catch(a){a.response?I.Ay.error(a.response.data.message,{position:"bottom-left"}):I.Ay.error("An unexpected error occurred. Please try again later.",{position:"bottom-left "})}finally{s((0,x.NB)(!1))}else I.Ay.error("Password is invalid",{position:"bottom-left"});else I.Ay.error("Email is invalid",{position:"bottom-left"});else I.Ay.error("Please fill all the required details",{position:"bottom-left"})}),[s,e])}},B=e=>{let{email:s,setEmail:t,password:r,setPassword:a,userName:o,setUserName:n,handleClearForm:i}=e;const{signUp:c}=T(),{signIn:m}=z(),x=(0,l.d4)((e=>e.auth.signUpLoading)),u=(0,l.d4)((e=>e.auth.signInLoading)),g=(0,l.d4)((e=>e.auth.isLoginPage)),f=(0,l.d4)((e=>e.themes.palettes[e.themes.currentPalette])),j=async e=>{e.preventDefault();try{g?m(s,r):c(o,s,r)}catch(t){I.Ay.error("something went wrong",{position:"bottom-left"})}finally{i()}};return(0,d.jsxs)("div",{className:"".concat(g?"flex py-5 px-3 flex-col  gap-2 items-center justify-center ":"flex py-5 px-3 flex-col  gap-2 items-center justify-center lg:order-2"),children:[(0,d.jsx)("h1",{className:"lg:text-3xl sm:text-xl font-bold",children:g?"Sign in":"Create Account"}),(0,d.jsx)("div",{className:"Login Options  p-1 flex gap-1 justify-center",children:null===E.y||void 0===E.y?void 0:E.y.map((e=>(0,d.jsx)("span",{onClick:()=>I.Ay.success("this feature will be added soon",{position:"bottom-left"}),className:"p-2 hover:cursor-pointer  border-black border-[1px] rounded-md shadow-lg ",children:e.Logo},e.Name)))}),(0,d.jsxs)("div",{className:"flex gap-1 justify-center items-center",children:[(0,d.jsx)("p",{className:"text-xs capitalize",children:g?"sign in with your email and password":"Create your email and password"}),(0,d.jsx)(L,{loginPage:g})]}),(0,d.jsxs)("form",{onSubmit:j,className:"flex flex-col my-3 gap-2",children:[!g&&(0,d.jsx)(h.p,{name:"UserName",focusBorderColor:f.primary,variant:"filled",value:o,autoComplete:"off",onChange:e=>n(e.target.value),placeholder:"User Name"}),(0,d.jsx)(h.p,{name:"Email",variant:"filled",focusBorderColor:f.primary,errorBorderColor:"crimson",value:s,autoComplete:"off",onChange:e=>t(e.target.value),placeholder:"Email"}),(0,d.jsx)(y,{onPasswordChange:e=>{a(e)},passwordValue:r}),(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(p.$,{type:"submit",title:"subbmit",className:"uppercase",onClick:j,isLoading:x||u,loadingText:g?"verifying":"Siginning Up",colorScheme:f.colorScheme,children:g?"Sign In":" Sign Up"})}),(0,d.jsx)(b.k2,{title:"forget password",onClick:()=>I.Ay.success("will be adding soon",{position:"bottom-left"}),className:"text-center mt-3 hover:underline hover:text-blue-500 text-xs",children:"Forget your Password?"})]})]})},R=()=>{const e=(0,F.Zp)(),s=(0,l.wA)(),[t,a]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("jwt_Token"));t&&(async t=>{try{if(!t)throw new Error("No token found");const r=JSON.parse(localStorage.getItem("user")),a=null===r||void 0===r?void 0:r.userId,{data:l}=await o.A.post("".concat("http://localhost:4000","/api/auth/verify/").concat(a),{token:t});if(null===l||void 0===l||!l.success)throw new Error("Invalid token");s((0,x.Ul)(!0)),e("/dash")}catch(r){return null}finally{a(!1)}})(t)}),[e,s])},H=()=>{const[e,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),c=(0,l.d4)((e=>e.auth.isLoginPage)),h=(0,l.wA)();R();const p=()=>{s(""),o(""),i("")};return(0,d.jsx)(a.A,{title:c?"Login Page":"Register Page",children:(0,d.jsx)("div",{className:"h-screen lg:h-screen flex justify-center items-center m-2  lg:m-0   ",children:(0,d.jsxs)("div",{className:"lg:w-[65%] sm:w-[95%] lg:h-[87%]   border shadow-2xl grid lg:grid-cols-2  sm:grid-cols-1  gap-2 rounded-3xl ",children:[(0,d.jsx)(B,{email:e,setEmail:s,password:t,setPassword:o,userName:n,setUserName:i,handleClearForm:p}),(0,d.jsx)(m,{loginPage:c,HandlePage:()=>{p(),h((0,x.t7)(!c))}})]})})})}},1219:(e,s,t)=>{t.d(s,{y:()=>l});var r=t(184),a=t(579);const l=[{Name:"Google",Logo:(0,a.jsx)(r.k72,{})},{Name:"FaceBook",Logo:(0,a.jsx)(r.ok6,{})},{Name:"GitHub",Logo:(0,a.jsx)(r.hL4,{})},{Name:"Linkedin",Logo:(0,a.jsx)(r.H1h,{})}]},2749:(e,s,t)=>{t.d(s,{A:()=>o});t(5043);var r=t(1591),a=t(9006),l=t(579);const o=e=>{let{children:s,title:t,description:o,keywords:n,author:i}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)(r.m,{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"description",content:o}),(0,l.jsx)("meta",{name:"keywords",content:n}),(0,l.jsx)("meta",{name:"author",content:i}),(0,l.jsx)("title",{children:t})]}),(0,l.jsxs)("main",{style:{minHeight:"70vh"},children:[(0,l.jsx)(a.l$,{}),s]})]})}},7682:(e,s,t)=>{t.d(s,{DT:()=>r,Oj:()=>a,TU:()=>o,Up:()=>l});const r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),a=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()\-_=+{};:,<.>]).{8,}$/.test(e),l=e=>/^\d{10}$/.test(e),o=e=>/^[a-zA-Z0-9_]{3,20}$/.test(e)}}]);
//# sourceMappingURL=326.e428b540.chunk.js.map