"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[299],{6299:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(5043),r=s(2749),l=s(7218),n=s(919),c=s(3003),o=s(5014),i=s(1221),d=s(5532),m=s(8028),h=s(3151),p=s(4007),x=s(4929),u=s(3984),j=s(1300),g=s(3224),w=s(6642),f=s(6720),y=s(6290),v=s(6058),b=s(579);const A=a.lazy((()=>s.e(962).then(s.bind(s,962)))),k=e=>{let{type:t,awardState:s}=e;const{isOpen:r,onOpen:l,onClose:n}=(0,i.j)(),[o,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),N=(0,c.d4)((e=>e.themes.currentPalette)),z=(0,c.d4)((e=>e.themes.palettes[e.themes.currentPalette])),[T,I]=(0,a.useState)(N),[O,P]=(0,a.useState)(null),U=(0,c.d4)((e=>e.award.isAwardCreating)),$=(0,c.d4)((e=>e.award.isAwardUpdating));return(0,b.jsxs)("div",{className:"sub-topics gap-2 flex justify-between items-center ",children:["create"===t?(0,b.jsx)(d.m,{label:"Edit",children:(0,b.jsxs)("button",{type:"button",onClick:()=>{l()},style:{backgroundColor:z.accent},className:"  p-1 rounded-md lg:px-4 px-2 font-semibold uppercase gap-3 flex items-center justify-center cursor-pointer transition duration-300 transform hover:scale-105",children:[(0,b.jsx)("span",{className:"text-white text-sm lg:text-lg ",children:" Add "}),(0,b.jsx)(v.E8b,{})]})}):(0,b.jsx)(d.m,{label:"Update",children:(0,b.jsx)(m.$,{size:"sm",type:"button",onClick:()=>{l()},className:"  rounded-lg font-bold uppercase gap-3 flex items-center justify-center cursor-pointer transition duration-300 transform hover:scale-105",children:y.A.edit})}),(0,b.jsx)(h.aF,{colorScheme:z.colorScheme,scrollBehavior:"inside",size:"xl",isCentered:!0,isOpen:r,onClose:n,children:(0,b.jsxs)(p.$,{borderRadius:"1rem",backgroundColor:"".concat("dark"===T?"#293645":"white"),color:"".concat("dark"===T?"white":"black"),children:[(0,b.jsx)(x.r,{textTransform:"capitalize",children:(0,b.jsxs)("div",{className:"flex justify-between pe-9 items-center",children:["create"===t?"Add Achivement":"Update Achivement",(0,b.jsx)(m.$,{size:"xs",onClick:()=>{I("light"===N||"light"===T?"dark":"light")},children:"dark"===T?(0,b.jsx)(f.juv,{}):(0,b.jsx)(f.hGG,{})})]})}),(0,b.jsx)(u.s,{}),(0,b.jsx)(j.c,{children:(0,b.jsx)(a.Suspense,{fallback:(0,b.jsx)("div",{className:"flex justify-center h-full ",children:(0,b.jsx)(g.y,{})}),children:(0,b.jsx)(A,{setCreateClicked:S,createClicked:C,updateClicked:o,AwardState:s,setUpdateClicked:k})})}),(0,b.jsx)(w.j,{children:"create"===t?(0,b.jsx)(m.$,{size:"sm",isLoading:U,loadingText:"Saving",onClick:()=>{S(!0),O&&clearTimeout(O);setTimeout((()=>{n(),P(null)}),100)},colorScheme:z.colorScheme,children:"Create"}):(0,b.jsx)(m.$,{size:"sm",isLoading:$,loadingText:"Updating",onClick:()=>{k(!0),O&&clearTimeout(O);setTimeout((()=>{n(),P(null)}),100)},colorScheme:z.colorScheme,children:"Update"})})]})})]})};var C=s(8851),S=s(2392),N=s(8360),z=s(184),T=s(9006),I=s(7154),O=s(3216),P=s(72);const U=()=>{const e=(0,O.Zp)(),t=(0,c.wA)(),{getAllAward:s}=(0,C.A)();return{deleteAward:async a=>{try{if(t((0,P.CC)(!0)),!a)throw new Error("Please Provide ID");const r=JSON.parse(localStorage.getItem("user")),l=JSON.parse(localStorage.getItem("jwt_Token")),n=null===r||void 0===r?void 0:r.userId;if(!l||!n)return e("/"),T.Ay.error("Please Log In",{position:"bottom-left"});const{data:c}=await I.A.delete("".concat("https://prodash-backend.onrender.com","/api/awards/").concat(n,"/delete/").concat(a),{headers:{Authorization:l}});c.success&&(T.Ay.success(c.message,{position:"bottom-left"}),s())}catch(r){T.Ay.error("Something went wrong",{position:"bottom-left"})}finally{t((0,P.CC)(!1))}}}},$=e=>{let{data:t}=e;const[s,r]=(0,a.useState)(!1),l=(0,c.d4)((e=>e.themes.palettes[e.themes.currentPalette])),n=(0,c.d4)((e=>e.award.isAwardDeleting)),o=(0,S.Y)(t.dateReceived),{deleteAward:i}=U();return(0,b.jsxs)("div",{className:"h-64  p-2 lg:w-96  w-full  shadow-2xl rounded-xl",style:{backgroundColor:l.primary},children:[(0,b.jsxs)("div",{className:"flex px-2 py-1 justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,b.jsx)("span",{className:"font-semibold text-md lg:text-lg uppercase",children:t.role}),(0,b.jsx)(v.xKl,{})]}),(0,b.jsxs)("div",{className:"flex gap-1    justify-start items-center",children:[(0,b.jsx)(d.m,{label:"Delete",children:(0,b.jsx)(m.$,{size:"sm",isLoading:n,onClick:()=>{i(t._id)},color:"red",children:(0,b.jsx)(f.Rrl,{className:""})})}),(0,b.jsx)(d.m,{label:s?"Copied!":"Copy",children:(0,b.jsx)(m.$,{size:"sm",onClick:()=>{r(!0);const e="Company: ".concat(t.companyOrInstitute,",Role:").concat(t.role," Receveing date  : ").concat(o,", Description: ").concat(t.description," ");navigator.clipboard.writeText(e).then((()=>{T.Ay.success("Task Copied",{position:"bottom-left"});const e=setTimeout((()=>r(!1)),2e3);return()=>clearTimeout(e)})).catch((e=>{console.error("Failed to copy text:",e)}))},children:s?(0,b.jsx)(z.paH,{}):(0,b.jsx)(z.zU_,{})})}),(0,b.jsx)(k,{type:"update",awardState:t})]})]}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:"flex p-2 gap-2 flex-col",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center  ",children:[(0,b.jsx)("span",{className:"capitalize text-md",children:t.companyOrInstitute.substring(0,20)}),(0,b.jsx)(N.E,{fontSize:"x-small",children:o})]}),(0,b.jsx)("div",{className:"p-2 rounded-md shadow-inner overflow-hidden h-32",style:{backgroundColor:l.accent,overflowY:"auto"},children:(0,b.jsx)("p",{className:"text-sm",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflow:"hidden"},children:t.description})})]})]})},D=()=>{const{getAllAward:e}=(0,C.A)(),t=(0,c.d4)((e=>e.award.myAwards));(0,a.useEffect)((()=>{e()}),[]);const s=(0,c.d4)((e=>e.themes.palettes[e.themes.currentPalette]));return(0,b.jsx)(r.A,{title:"Achivement  Page",keywords:"Achivements, role, certificates,grade, info,data,seo,",children:(0,b.jsxs)("div",{style:{backgroundColor:s.secondary},className:"grid grid-cols-12 text-white min-h-svh",children:[(0,b.jsx)(l.A,{}),(0,b.jsxs)("div",{className:"col-span-11 lg:p-3 w-screen md:w-full  lg:w-full  ",children:[(0,b.jsx)(n.A,{}),(0,b.jsxs)("div",{className:"lg:p-3 p-1   w-full",children:[(0,b.jsxs)("div",{className:"flex justify-between shadow-2xl rounded-2xl items-center lg:px-12 px-1",children:[(0,b.jsx)(k,{type:"create"}),(0,b.jsx)(o.A,{size:"4"})]}),(0,b.jsx)("div",{className:"flex w-full  flex-wrap gap-3 justify-center items-center  p-4 ",children:t.map((e=>(0,b.jsx)($,{data:e})))})]})]})]})})}},8851:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(7154),r=s(9006),l=s(3216),n=s(72),c=s(3003);const o=()=>{const e=(0,l.Zp)(),t=(0,c.wA)();return{getAllAward:async()=>{try{const s=JSON.parse(localStorage.getItem("user")),l=JSON.parse(localStorage.getItem("jwt_Token")),c=null===s||void 0===s?void 0:s.userId;if(!c||!l)return r.Ay.error("Please Log In",{position:"bottom-left"}),e("/");const{data:o}=await a.A.get("".concat("https://prodash-backend.onrender.com","/api/awards/").concat(c),{headers:{Authorization:l}});o.success&&t((0,n.ZH)(o.awards))}catch(s){console.error("error in fetching the award :",s),r.Ay.error("Something went wrong",{position:"bottom-left"})}}}}},2392:(e,t,s)=>{s.d(t,{Y:()=>a});const a=e=>{const t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"2-digit"}),[s,a,r]=t.split(" ");return"".concat(a).concat(s,"-").concat(r)}}}]);
//# sourceMappingURL=299.3dcee9af.chunk.js.map